# .htaccess for jurnal.syntaxliterate.co.id
# Disable directory listing
Options -Indexes

# --- Explicitly allow Google's verification file(s) ---
<FilesMatch "^(google59a39d2d002bd0af\.html|google[0-9a-zA-Z_-]*\.html|google-site-verification.*\.html)$">
    <IfModule mod_authz_core.c>
        Require all granted
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order allow,deny
        Allow from all
    </IfModule>
</FilesMatch>

# --- Block risky script/binary file extensions (not over-broad) ---
<FilesMatch "(?i)\.(phar|sh|cgi|pl|py|py3|env|zip|log|bat|exe|php[3457]?|phtml)$">
    <IfModule mod_authz_core.c>
        Require all denied
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order Deny,Allow
        Deny from all
    </IfModule>
</FilesMatch>

# --- Allow common image/file types to be served publicly ---
<FilesMatch "(?i)\.(png|jpe?g|gif|webp|svg|css|js|woff2?|ttf|ico)$">
    <IfModule mod_authz_core.c>
        Require all granted
    </IfModule>
    <IfModule !mod_authz_core.c>
        Order allow,deny
        Allow from all
    </IfModule>
</FilesMatch>

# --- Rewrite rules: do not rewrite the Google verification file, and serve existing files directly ---
<IfModule mod_rewrite.c>
    RewriteEngine On

    # Do not rewrite Google verification files
    RewriteCond %{REQUEST_URI} ^/google59a39d2d002bd0af\.html$ [NC]
    RewriteRule ^ - [L]

    # If requested resource exists, serve it
    RewriteCond %{REQUEST_FILENAME} -f
    RewriteRule ^ - [L]

    # Otherwise forward to index.php (adjust if your front controller is different)
    RewriteRule ^ index.php [L]
</IfModule>
